__NUXT_JSONP__("/service-configuration", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T){return {data:[{document:{slug:"service-configuration",description:"",title:"Service Configuration",position:3,category:"Guide",fullscreen:true,toc:[{id:z,depth:2,text:A}],body:{type:"root",children:[{type:b,tag:t,props:{},children:[{type:a,value:"Every service in Guvnor is represented by a YAML configuration file. This file has many options that let you configure which processes and tasks should be available as part of your service."}]},{type:a,value:l},{type:b,tag:B,props:{className:[C]},children:[{type:b,tag:D,props:{className:[E,F]},children:[{type:b,tag:p,props:{},children:[{type:b,tag:c,props:{className:[d,"comment"]},children:[{type:a,value:"# \u002Fetc\u002Fguvnor\u002Fservices\u002Fidentity.yaml"}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:"defaults"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:H}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:" ghcr.io\u002Fkrystal\u002Fidentity\n  "},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:I}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:" latest\n  "},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:"RAILS_ENV"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:" production\n    "},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:"SECRET_KEY_BASE"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:" abcdef1234567890\n  "},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:"mounts"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:"host"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:" \u002Fopt\u002Fidentity\u002Fconfig.yml\n      "},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:"container"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:" \u002Fconfig.yml\n\n"},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:"processes"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:"web"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:J}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"\"server\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:K}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"1"}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:"privileged"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,M,N]},children:[{type:a,value:w}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:"HOSTNAME"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:" identity.k.io\n    "},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:O}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:P}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"\n        "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:" identity.k.io\n        "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:" identity.another.domain\n      "},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:Q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:" \u002Ffizz\u002F*\n\n  "},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:"worker"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"\"worker\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:K}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"4"}]},{type:a,value:y},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:"cron"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"\"cron\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:"network"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:"mode"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:" host\n\n"},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:"tasks"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:"console"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:J}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"\"console\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:"interactive"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,M,N]},children:[{type:a,value:w}]},{type:a,value:y},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"\"db:migrate\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:y},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:H}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:" slack\n    "},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:I}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:" 21.3.4\n    "},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:"SLACK_CHANNEL"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"'#labs'"}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:"SLACK_MESSAGE"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"\"Do something {.Host}\""}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:"callbacks"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:"preDeployment"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:"postDeployment"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:l}]}]}]},{type:a,value:l},{type:b,tag:"h2",props:{id:z},children:[{type:b,tag:"a",props:{ariaHidden:w,href:"#path-routing",tabIndex:-1},children:[{type:b,tag:c,props:{className:["icon","icon-link"]},children:[]}]},{type:a,value:A}]},{type:a,value:l},{type:b,tag:t,props:{},children:[{type:a,value:"Path routing allows requests for certain paths to be directed to a different service. Path matching is case insensitive and exact by default, but wildcards can be used."}]},{type:a,value:l},{type:b,tag:t,props:{},children:[{type:a,value:"For example, to route the traffic for all paths and subpaths of "},{type:b,tag:p,props:{},children:[{type:a,value:"example.com\u002Ffizz"}]},{type:a,value:", configure the caddy option within your service as so:"}]},{type:a,value:l},{type:b,tag:B,props:{className:[C]},children:[{type:b,tag:D,props:{className:[E,F]},children:[{type:b,tag:p,props:{},children:[{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:O}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:P}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:j},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:" example.com\n  "},{type:b,tag:c,props:{className:[d,f,g]},children:[{type:a,value:Q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:" \u002Ffizz\u002F*\n"}]}]}]},{type:a,value:l},{type:b,tag:t,props:{},children:[{type:a,value:"Matching precedence for paths is based on the number of segments in the path, so a service configured with "},{type:b,tag:p,props:{},children:[{type:a,value:"\u002Ffizz\u002Fbuzz\u002F*"}]},{type:a,value:" will take precedence over "},{type:b,tag:p,props:{},children:[{type:a,value:"\u002Ffizz\u002F*"}]},{type:a,value:" which in turn has precedence over a service configured with just a hostname."}]}]},dir:"\u002Fen",path:"\u002Fen\u002Fservice-configuration",extension:".md",createdAt:T,updatedAt:T,to:"\u002Fservice-configuration"},prev:{title:"Guvnor Configuration",path:"\u002Fen\u002Fguvnor-configuration",to:"\u002Fguvnor-configuration"},next:{title:"Deployment Strategies",path:"\u002Fen\u002Fdeployment-strategies",to:"\u002Fdeployment-strategies"}}],fetch:{},mutations:[]}}("text","element","span","token","punctuation","key","atrule",":"," ","\n    ","string","\n","[","]","\n  ","code","command",",","\n      ","p","-","env","true","\"bin\u002Frake\"","\n\n  ","path-routing","Path routing","div","nuxt-content-highlight","pre","language-yaml","line-numbers","\n\n","image","imageTag","\"bin\u002Frails\"","quantity","number","boolean","important","caddy","hostnames","path","migrate","notifySlack","2022-04-04T16:00:02.154Z")));